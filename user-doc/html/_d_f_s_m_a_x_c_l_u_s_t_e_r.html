<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>PLUMED: DFSMAXCLUSTER</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.2.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home&#160;(v2.2)</span></a></li>
      <li><a href="_syntax.html"><span>Getting&#160;started</span></a></li>
      <li><a href="tutorials.html"><span>Tutorials</span></a></li>
      <li><a href="glossary.html"><span>Index&#160;of&#160;Actions</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_d_f_s_m_a_x_c_l_u_s_t_e_r.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DFSMAXCLUSTER </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table  align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="60%%"></td><td><b> This is part of the crystallization <a class="el" href="mymodules.html">module </a></b>   </td></tr>
<tr>
<td width="60%%"></td><td><b> It is only available if you configure PLUMED with ./configure &ndash;enable-modules=crystallization . Furthermore, this feature is still being developed so take care when using it and report any problems on the mailing list.</b>   </td></tr>
</table>
<p>Find the connected components and determine the maximum size of the clusters in your system using a smooth function</p>
<p>This action uses the DFS clustering algorithm described in <a class="el" href="_d_f_s_c_l_u_s_t_e_r_i_n_g.html">DFSCLUSTERING</a> to find a set of connected components based on the configuration of the atoms in your system. Once again this can be used to find crystalline nuclei or bubble of atoms. Once these connected components have been identified this colvar attempts to determine the size of the largest cluster of atoms using a continuous function. This is done using the following formula </p><p class="formulaDsp">
\[ z = \beta \ln \left[ \sum_j \exp\left( \frac{\sum_i \sigma(s_{ij} }{\beta} \right) \right] \]
</p>
<p> Here the sum over \(j\) runs over the set of connected components that are identified through the DFS clustering. Meanwhile, the sum over \(i\) runs over the set of symmetry functions, \(s_{ij}\), that are contained within the \(j\)th connected component. The function \(\sigma\) is a switching function that is specified using the TRANSFORM keyword and used to convert all symmetry functions to values between 0 and 1. This is done in order to make it easier to interpret the final quantity as the size of the largest cluster in the system.</p>
<dl class="section user"><dt>Compulsory keywords</dt><dd></dd></dl>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> DATA </b> </td><td>the labels of the action that calculates the multicolvars we are interested in   </td></tr>
<tr>
<td width="15%"><b> BETA </b> </td><td>the value of beta to be used in calculating the smooth maximum   </td></tr>
<tr>
<td width="15%"><b> WTOL </b> </td><td>if the base multicolvars have weights then you must define a hard cutoff on those you want to consider explicitally   </td></tr>
<tr>
<td width="15%"><b> TRANSFORM </b> </td><td>( default=none ) the switching function to use to convert the crystallinity parameter to a number between zero and one   </td></tr>
</table>
<dl class="section user"><dt>Options</dt><dd></dd></dl>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> NOPBC </b> </td><td>( default=off ) ignore the periodic boundary conditions when calculating distances   </td></tr>
<tr>
<td width="15%"><b> SERIAL </b> </td><td>( default=off ) do the calculation in serial. Do not parallelize   </td></tr>
<tr>
<td width="15%"><b> TIMINGS </b> </td><td>( default=off ) output information on the timings of the various parts of the calculation   </td></tr>
<tr>
<td width="15%"><b> USE_ORIENTATION </b> </td><td>( default=off ) When computing whether two atoms/molecules are adjacent also take their orientations into account   </td></tr>
<tr>
<td width="15%"><b> HIGHMEM </b> </td><td>( default=off ) use a more memory intensive version of this collective variable   </td></tr>
<tr>
<td width="15%"><b> INVERSE_TRANSFORM </b> </td><td><p class="starttd">( default=off ) when TRANSFORM appears alone the input symmetry functions, \(x\) are transformed used \(1-s(x)\) where \(s(x)\) is a switching function. When this option is used you instead transform using \(s(x)\) only.  </p>
<p class="endtd"></p>
</td></tr>
</table>
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> SWITCH </b> </td><td><p class="starttd">This keyword is used if you want to employ an alternative to the continuous swiching function defined above. The following provides information on the <a class="el" href="switchingfunction.html">switchingfunction</a> that are available. When this keyword is present you no longer need the NN, MM, D_0 and R_0 keywords. You can use multiple instances of this keyword i.e. SWITCH1, SWITCH2, SWITCH3...  </p>
<p class="endtd"></p>
</td></tr>
</table>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<p>The following example calculates the size of the largest cluster of the system. FCCUBIC parameters, which don't necessarily have to be equal to numbers between zero and one, are converted to numbers between zero and one by virtue of the switching function specified using the TRANSFORM keyword.</p>
<pre class="fragment">cubic1: FCCUBIC SPECIES=1-1000 SWITCH={CUBIC D_0=0.4  D_MAX=0.5} TOL=0.03 
clust: DFSMAXCLUSTER DATA=cubic1 BETA=0.5 SWITCH={CUBIC D_0=0.4   D_MAX=0.5} TRANSFORM={CUBIC D_0=0.035 D_MAX=0.045}
</pre><p>As was described in the examples section of the page on the <a class="el" href="_d_f_s_c_l_u_s_t_e_r_i_n_g.html">DFSCLUSTERING</a> action we can also use filters when we use DFSMAXCLUSTER. Here again the filter ensures that clustering is only performed for those atoms that have a symmetry function greater than a certain parameter. As such the clustering will only be performed for a subset of the symmetry functions claculated by the action labelled cubic1.</p>
<pre class="fragment">cubic1: FCCUBIC SPECIES=1-1000 SWITCH={CUBIC D_0=0.4  D_MAX=0.5} TOL=0.03 
cf: MFILTER_MORE DATA=cubic1 SWITCH={CUBIC D_0=0.035 D_MAX=0.045}
clust: DFSMAXCLUSTER DATA=cf BETA=0.5 SWITCH={CUBIC D_0=0.4   D_MAX=0.5} TRANSFORM={CUBIC D_0=0.035 D_MAX=0.045} WTOL=0.01
</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="colvarintro.html">Collective variables</a></li><li class="navelem"><a class="el" href="mcolv.html">MultiColvar Documentation</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
